@using FahasaStoreClientApp.Models

<div class="row g-2">
    <div>Số lượng sản phẩm: <span class="text-danger fw-bold">@order?.OrdersDetail?.Count()</span></div>
</div>
<hr />
<div class="row g-3">
    <div>
        <div class="row">
            <div class="col-2"><strong>Hình ảnh</strong></div>
            <div class="col-5"><strong>Tên sản phẩm</strong></div>
            <div class="col-2"><strong>Giá bán</strong></div>
            <div class="col-1"><strong>SL</strong></div>
            <div class="col-2"><strong>Thành tiền</strong></div>
        </div><OrdersPreViewComponent />
    </div>
    @{
        if (order != null && order.OrdersDetail != null)
        {
            foreach (var item in order.OrdersDetail)
            {
                <div>
                    <div class="row">
                        <div class="col-2"><img src="@item.UrlImgProduct" class="object-fit-contain mx-2 w-100 h-100" /></div>
                        <div class="col-5"><span class="text-truncatet-row-double">@item.ProductName</span></div>
                        <div class="col-2">
                            <span class="fw-bold">@item.CurrentPrice đ</span> <br class="d-none d-md-block" />
                            <span class="text-decoration-line-through">@item.CurrentPrice đ</span>
                        </div>
                        <div class="col-1">@item.Quantity</div>
                        <div class="col-2"><h6 class="text-danger fw-bold">@item.Price đ</h6></div>
                    </div>
                </div>
            }
        }
    }
    
</div>
<hr />
<div class="px-5">
    <div class="row text-end">
        <div class="col-8 col-md-10">Tổng tiền:</div>
        <div class="col-4 col-md-2"><strong>@order?.OrdersDetail?.Sum(o => o.Price * o.Quantity)</strong> đ</div>
        <div class="col-8 col-md-10">@order?.Voucher?.Name:</div>
        <div class="col-4 col-md-2"><strong>- @order?.ReducedAmountByVoucher</strong> đ</div>
        <div class="col-8 col-md-10">Thanh toán:</div>
        <div class="col-4 col-md-2"><strong>@order?.TotalAmount</strong> đ</div>
    </div>
</div>


@code {
    [Parameter]
    public Order? order { get; set; }
}
