<form>
    <div class="mb-3 d-flex flex-column align-items-center">
        <input type="number" name="Rating" min="1" max="5" value="5" hidden />
        <div class="stars fs-3">
            <span class="star" role="button" data-rating="1">&#9733;</span>
            <span class="star" role="button" data-rating="2">&#9733;</span>
            <span class="star" role="button" data-rating="3">&#9733;</span>
            <span class="star" role="button" data-rating="4">&#9733;</span>
            <span class="star" role="button" data-rating="5">&#9733;</span>
        </div>
        <div class="rating-description ms-3">Tuyệt vời</div>
    </div>
    <div class="mb-3">
        <label for="cmtInput" class="form-label">Nội dung đánh giá</label>
        <textarea class="form-control" id="cmtInput" oninput="updateCharacterCount()" rows="3" maxlength="500" placeholder="Nhập nội dung nhận xét của bạn về sản phẩm, tối đa 500 ký tự."></textarea>
        <div id="charCount" class="mt-3 text-end">Số ký tự còn lại: 500</div>
    </div>
    <div class="mb-3">
        <input type="submit" value="Chỉnh sửa" class="btn btn-outline-danger" />

    </div>
</form>

<script>
    $(document).ready(function () {
        ReviewHandler();
        function ReviewHandler() {
            let starDescriptions = {
                1: "Quá tệ",
                2: "Không hài lòng",
                3: "Bình thường",
                4: "Hài lòng",
                5: "Tuyệt vời",
            };

            let stars = document.querySelectorAll("span[data-rating]");
            let ratingDescription = document.querySelector(".rating-description");
            let starsContainer = document.querySelector(".stars");

            stars.forEach((star, index) => {
                star.addEventListener("click", () => {
                    let rating = star.getAttribute("data-rating");
                    ratingDescription.innerText = starDescriptions[rating];
                    document.querySelector('input[name="Rating"]').value = index + 1;
                    stars.forEach((star, i) => {
                        if (i + 1 <= rating) {
                            star.classList.add("active");
                            star.style.color = "#ffcc00";
                        } else {
                            star.classList.remove("active");
                            star.style.color = "#000";
                        }
                    });
                });
            });
        }
    });
    // review
    function updateCharacterCount() {
        var textarea = document.getElementById("cmtInput");
        var charCount = document.getElementById("charCount");
        var maxLength = textarea.getAttribute("maxlength");
        var remainingChars = maxLength - textarea.value.length;
        charCount.textContent = "Số ký tự còn lại: " + remainingChars;
    }
</script>

@code {

}